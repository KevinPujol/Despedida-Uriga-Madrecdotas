<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Olga & Oriol ‚Äî Madrecdotas</title>
<link rel="icon" href="logo.png" type="image/png">
<style>
  :root{
    --bg:#f6f4f2;
    --card:#ffffff;
    --muted:#6c7a72;
    --primary:#2f6f5e;
    --pill:#e6efe9;
    --success-bg:#e8f7ec;
    --success:#1c7c3a;
    --border:#e7e3dd;
    --shadow: 0 6px 16px rgba(0,0,0,.06);
    --radius:14px;

    --uri:#2e7d32;
    --olga:#2f6f8a;
    --danger:#c0392b;
    --toast:#1f2a27;
  }
  *{box-sizing:border-box}
  html,body{margin:0;background:var(--bg);color:#2a2a2a;font-family:system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial,sans-serif}
  .wrap{max-width:980px;margin:0 auto;padding:20px 16px 28px}

  /* Header */
  header{display:flex;flex-direction:column;align-items:center;gap:12px;margin-top:4px;margin-bottom:10px}
  .logo{height:72px; width:auto; display:block}

  /* Controls */
  .toolbar{display:flex;gap:10px;align-items:center;justify-content:center;flex-wrap:wrap;margin:6px 0 8px}
  .btn{border:none;border-radius:999px;padding:10px 14px;font-weight:700;cursor:pointer}
  .btn.primary{background:var(--primary);color:#fff}
  .btn.ghost{background:#fff;border:1px solid var(--border)}
  .btn:disabled{opacity:.6;cursor:default}

  /* Progress */
  .progress{width:100%;max-width:560px;margin:0 auto 10px}
  .progress .label{display:flex;justify-content:space-between; font-size:12px; color:var(--muted); margin:8px 4px}
  .bar{height:8px;background:#e9ecec;border-radius:999px;overflow:hidden}
  .bar > span{display:block;height:100%;width:0;background: color-mix(in srgb, var(--primary) 45%, white); border-radius:999px; transition:width .35s ease}

  /* Flip card */
  .stage{display:grid;place-items:center;margin-top:6px}
  .card{background:var(--card);border:1px solid var(--border);border-radius:var(--radius);box-shadow:var(--shadow);width:min(780px,100%);min-height:220px;perspective:1200px}
  .flip{position:relative;width:100%;min-height:220px;transform-style:preserve-3d;transition:transform .5s ease;cursor:pointer}
  .flip.is-back{transform:rotateY(180deg)}
  .face{position:absolute;inset:0;padding:18px 18px 20px;display:grid;align-content:center;gap:12px;backface-visibility:hidden;border-radius:var(--radius)}
  .front{background:#fff}
  .back{background:#fff;transform:rotateY(180deg)}
  .meta{font-size:12px;color:var(--muted);text-transform:uppercase;letter-spacing:.08em;text-align:center}
  .text{font-size:18px;line-height:1.45;text-align:center;color:#2a2a2a}
  .reveal{display:flex;justify-content:center}
  .pill{background:var(--pill); padding:8px 12px; border-radius:999px; font-weight:800; letter-spacing:.3px; display:inline-flex; align-items:center; gap:10px; box-shadow:var(--shadow); color:#1a1a1a}
  .author{font-size:20px;color:#2e4b3d;font-weight:800;text-align:center}

  /* Footer */
  footer{margin-top:18px;text-align:center;color:#2f3b36}

  /* Toast */
  #toast{
    position:fixed;bottom:22px;left:50%;transform:translateX(-50%);
    background:var(--toast);color:#fff;padding:8px 14px;border-radius:18px;
    font-size:12px;line-height:1.25;max-width:90%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;
    display:none;z-index:1200;box-shadow:var(--shadow)
  }
</style>
</head>
<body>
  <div class="wrap">
    <header>
      <img src="logo.png" alt="Olga & Oriol ‚Äî 04.10.2025" class="logo" />
      <div class="progress">
        <div class="label"><span id="progressText">0 de 0 mostradas</span><span id="hint">Toca la tarjeta para ver a qui√©n pertenece</span></div>
        <div class="bar"><span id="progressBar"></span></div>
      </div>
      <div class="toolbar">
        <button id="btnPrev" class="btn ghost" type="button" aria-label="Anterior">‚üµ Anterior</button>
        <button id="btnNext" class="btn primary" type="button" aria-label="Siguiente">Siguiente ‚ü∂</button>
        <button id="btnShuffle" class="btn ghost" type="button" aria-label="Mezclar">üîÄ Mezclar</button>
        <button id="btnReset" class="btn ghost" type="button" aria-label="Reiniciar">Reset</button>
      </div>
    </header>

    <main class="stage" aria-live="polite">
      <article class="card" id="card">
        <div class="flip" id="flip">
          <section class="face front">
            <div class="meta">Madrecdota ¬∑ Frente</div>
            <div class="text" id="frontText">Pulsa "Siguiente" para empezar.</div>
            <div class="reveal"><span class="pill">T√≥came para girar ‚Üª</span></div>
          </section>
          <section class="face back">
            <div class="meta">Autor/a</div>
            <div class="author" id="author">‚Äî</div>
            <div class="reveal"><span class="pill">T√≥came para volver ‚Ü∫</span></div>
          </section>
        </div>
      </article>
    </main>

    <footer>Hecho con ‚ù§Ô∏è para Olga &amp; Oriol.</footer>
  </div>

  <div id="toast" role="status" aria-live="polite"></div>

<script>
(function(){
  // An√©cdotas reescritas y normalizadas a partir del documento compartido.
  // Cada entrada: { text, author }
  const ANECDOTES = [
    // Jessica (1)
    { author:"Jessica", text:"Viendo 'Destino Final' en familia, mi padre cambi√≥ justo a la escena de la gimnasta. Mi padre, mi hermano y yo nos re√≠mos del absurdo‚Ä¶ hasta que vimos a mi madre llorando. Nos dej√≥ helados y nos re√≠mos de nervios, pero luego le pedimos perd√≥n." },

    // Roger (3)
    { author:"Roger", text:"Mi madre se apunt√≥ a aromaterapia. Ahora tiene una destiladora en casa y parece un laboratorio‚Ä¶ pero huele a romero, no a metanfetamina." },
    { author:"Roger", text:"Con cuatro a√±os quise esquiar solo. Le ped√≠ a mi madre que me soltara. Me solt√≥, me ca√≠ al instante y, llorando, le grit√©: ‚Äú¬°¬øPor qu√© me sueltas?!‚Äù. " },
    { author:"Roger", text:"De peque√±o me invent√© un idioma. Mi familia me iba preguntando palabras y yo improvisaba. Mi madre pregunt√≥ c√≥mo se dec√≠a ‚Äúbruja‚Äù‚Ä¶ y dije su nombre." },

    // Javi (3)
    { author:"Javi", text:"En un vuelo a Nueva York la azafata le dijo ‚Äúwelcome‚Äù a mi madre, y ella contest√≥ con un ‚Äúwelcome‚Äù segur√≠simo. Estuvimos todo el viaje saludando a desconocidos con un ‚Äúwelcome‚Äù random." },
    { author:"Javi", text:"Haciendo limpieza, una cucaracha ‚Äúmuerta‚Äù acab√≥ en el recogedor. De repente ech√≥ a correr y mi madre, nerviosa, grit√≥: ‚Äú¬°Se ha corrido por todo el recogedor!‚Äù. Risas y asco a partes iguales." },
    { author:"Javi", text:"En las comidas sabemos que si la provocas mucho, te cae un vaso de agua. Un d√≠a un consuegro solt√≥ comentarios machistas‚Ä¶ y mi madre le lanz√≥ el vaso en toda la cara. Aplauso un√°nime." },

    // Gemma (1)
    { author:"Gemma", text:"Por tel√©fono siempre nos confunden: dicen que mi madre y yo tenemos la misma voz. Mi abuela y sus amigas llevan a√±os equivoc√°ndose." },

    // Silvia (3)
    { author:"Silvia", text:"El D√≠a de los Inocentes la llam√© desde el aeropuerto: ‚ÄúHe perdido el pasaporte. Solo puedo volver con un pasaporte expr√©s car√≠simo‚Äù. Tras la bronca‚Ä¶ acept√≥ pagarlo. Luego le dije: ‚ÄúInocente‚Äù. " },
    { author:"Silvia", text:"Mi madre es tan ordenada que los √°lbumes de fotos tienen etiquetas y un √≠ndice para buscar por a√±o y evento. Es un archivo hist√≥rico en casa." },
    { author:"Silvia", text:"En el festival de la ESO mis padres grabaron toda la coreograf√≠a‚Ä¶ a una chica que no era yo. El v√≠deo familiar es de una desconocida dando el 100%." },

    // Bela (3)
    { author:"Bela", text:"‚ÄúLa Casta√±a‚Äù: de peque√±a, mi t√≠o asustaba a mi madre diciendo: ‚Äú¬°Que viene la Casta√±a!‚Äù. No era nadie real, pero le daba p√°nico." },
    { author:"Bela", text:"Durante a√±os en casa dijimos ‚Äútriquismiquis‚Äù en vez de ‚Äútiquismiquis‚Äù, porque mi madre estaba convencida de que era as√≠." },
    { author:"Bela", text:"Un d√≠a alguien dijo ‚Äúcorramos un est√∫pido velo‚Äù en lugar de ‚Äútupido‚Äù. Desde entonces qued√≥ adoptado en la familia." },

    // Maria (3)
    { author:"Maria", text:"De peque√±a, mi madre me hac√≠a jugar a ‚ÄúLa cr√≠tica‚Äù: pase√°bamos y coment√°bamos a los peor vestidos. Hoy me r√≠o, pero menuda escuela de estilismo." },
    { author:"Maria", text:"Cuando me li√© con mi crush de infancia, llam√© a mi madre nada m√°s cerrar la puerta. Jugamos a ‚Äú¬øQui√©n es qui√©n?‚Äù hasta que adivin√≥ qui√©n era." },
    { author:"Maria", text:"En pandemia cocinamos arroz con leche para mi padre. Nos qued√≥ mal√≠simo y √©l estuvo una semana pachucho. Desde entonces, postres‚Ä¶ mejor comprados." }
  ];

  // Estado
  let order = [];
  let index = -1;
  const flip = document.getElementById('flip');
  const frontText = document.getElementById('frontText');
  const author = document.getElementById('author');
  const progressText = document.getElementById('progressText');
  const progressBar = document.getElementById('progressBar');
  const toast = document.getElementById('toast');

  // Controles
  const btnPrev = document.getElementById('btnPrev');
  const btnNext = document.getElementById('btnNext');
  const btnShuffle = document.getElementById('btnShuffle');
  const btnReset = document.getElementById('btnReset');

  function showToast(msg){
    toast.textContent = msg;
    toast.style.display = 'block';
    clearTimeout(showToast._t);
    showToast._t = setTimeout(()=>{ toast.style.display='none'; }, 1600);
  }

  function updateHUD(){
    const shown = Math.max(0, Math.min(ANECDOTES.length, index+1));
    progressText.textContent = `${shown} de ${ANECDOTES.length} mostradas`;
    progressBar.style.width = `${(shown/ANECDOTES.length)*100}%`;
    btnPrev.disabled = (index<=0);
    btnNext.disabled = (index>=order.length-1);
  }

  function shuffle(){
    order = [...ANECDOTES.keys()];
    for(let i=order.length-1;i>0;i--){
      const j = Math.floor(Math.random()*(i+1));
      [order[i],order[j]] = [order[j],order[i]];
    }
    index = -1;
    updateHUD();
  }

  function setCard(a){
    // reset cara frontal
    flip.classList.remove('is-back');
    frontText.textContent = a.text;
    author.textContent = a.author;
  }

  function next(){
    if(index < order.length-1){
      index++;
      setCard(ANECDOTES[order[index]]);
      updateHUD();
    }else{
      showToast('Has llegado al final. Mezcla o reinicia.');
    }
  }

  function prev(){
    if(index > 0){
      index--;
      setCard(ANECDOTES[order[index]]);
      updateHUD();
    }
  }

  function resetAll(){
    shuffle();
    next();
    showToast('Reiniciado');
  }

  // Eventos
  flip.addEventListener('click', ()=>{
    flip.classList.toggle('is-back');
  });
  btnNext.addEventListener('click', next);
  btnPrev.addEventListener('click', prev);
  btnShuffle.addEventListener('click', ()=>{ shuffle(); showToast('Orden mezclado'); });
  btnReset.addEventListener('click', resetAll);

  // Inicio
  shuffle();
  next();
})();</script>
</body>
</html>
