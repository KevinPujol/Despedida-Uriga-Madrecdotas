<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Olga & Oriol ‚Äî Madrecdotas</title>
<style>
  :root{
    --bg:#f6f4f2;
    --card:#ffffff;
    --muted:#6c7a72;
    --primary:#2f6f5e;
    --border:#e7e3dd;
    --shadow: 0 6px 16px rgba(0,0,0,.06);
    --radius:16px;
  }
  *{box-sizing:border-box}
  html,body{margin:0;background:var(--bg);color:#2a2a2a;
    font-family:system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial,sans-serif}
  .wrap{max-width:980px;margin:0 auto;padding:20px 16px 28px}
  header{display:flex;flex-direction:column;align-items:center;gap:12px;
    margin-top:4px;margin-bottom:10px}
  .logo{height:76px;width:auto;display:block}
  .progress{width:100%;max-width:560px;margin:2px auto 12px}
  .progress .label{display:flex;justify-content:center;gap:10px;font-size:14px;
    color:var(--muted);margin:6px 4px}
  .bar{height:8px;background:#e9ecec;border-radius:999px;overflow:hidden}
  .bar > span{display:block;height:100%;width:0;
    background: color-mix(in srgb, var(--primary) 45%, white);
    border-radius:999px; transition:width .35s ease}
  .controls{display:flex;gap:12px;justify-content:center;align-items:center;
    margin:10px 0 14px}
  .btn{border:none;border-radius:999px;padding:12px 18px;font-weight:700;
    cursor:pointer}
  .btn.primary{background:var(--primary);color:#fff;padding:14px 22px}
  .iconbtn{width:46px;height:46px;border:1px solid var(--border);
    border-radius:999px;background:#fff;display:inline-flex;
    align-items:center;justify-content:center;font-size:18px;cursor:pointer}
  .iconbtn:disabled{opacity:.4;cursor:not-allowed}
  .card{background:var(--card);border:1px solid var(--border);
    border-radius:var(--radius);box-shadow:var(--shadow);
    padding:22px;max-width:720px;margin:0 auto;cursor:pointer;
    transition:transform .06s ease}
  .card:hover{transform:translateY(-2px)}
  .eyebrow{font-size:13px;letter-spacing:.12em;text-transform:uppercase;
    color:#5a6c66;text-align:center;margin:2px 0 14px}
  .anec{margin:0 auto;text-align:center;line-height:1.5;font-size:22px;
    max-width:56ch}
  footer{margin-top:24px;text-align:center;color:#2f3b36}
  @media(min-width:720px){ .anec{font-size:24px} }
</style>
</head>
<body>
  <div class="wrap">
    <header>
      <img src="logo.png" alt="Olga & Oriol ‚Äî 04.10.2025" class="logo" />
    </header>

    <div class="progress">
      <div class="label"><span id="counter">0/0</span></div>
      <div class="bar"><span id="barFill"></span></div>
    </div>

    <div class="controls">
      <button id="prevBtn" class="iconbtn" aria-label="Anterior">‚óÄ</button>
      <button id="nextBtn" class="btn primary">Siguiente ‚Üí</button>
    </div>

    <article id="card" class="card" role="button" aria-pressed="false" aria-live="polite">
      <div class="eyebrow" id="eyebrow">Madrecdota</div>
      <p class="anec" id="text">Haz clic para ver una madrecdota.</p>
    </article>

    <footer>Hecho con ‚ù§Ô∏è para Olga &amp; Oriol.</footer>
  </div>

<script>
(function(){
  const anecdotes = [
    {"t":"Una tarde, mi padre hac√≠a zapping y puso una pel√≠cula de Destino Final. Coincidi√≥ con la escena de la gimnasta que muere de forma absurda. Mi padre, mi hermano y yo nos re√≠mos, pero mi madre lloraba, impactada. Entonces nos re√≠mos todav√≠a m√°s... ¬°pero de ella! üòÇ","a":"Jessica"},
    {"t":"Mi madre se apunt√≥ a un curso de aromaterapia. Ahora tenemos una destiladora y hace esencias en casa. Parece un laboratorio de metanfetaminas.","a":"Roger"},
    {"t":"A los 4 a√±os fui a esquiar con mi madre. Le ped√≠ que me soltara porque pod√≠a hacerlo solo. En cuanto me solt√≥, me ca√≠ de culo y, llorando, le grit√©: ¬´¬°¬øPor qu√© me sueltas?!¬ª.","a":"Roger"},
    {"t":"De peque√±o invent√© un idioma y mi familia me ped√≠a traducciones. Cuando preguntaron c√≥mo se dec√≠a 'bruja', respond√≠ con el nombre de mi madre.","a":"Roger"},
    {"t":"En un viaje familiar a Nueva York, al entrar en el avi√≥n, una azafata salud√≥ a mi madre con un ‚Äúwelcome‚Äù. Ella respondi√≥ muy segura: ‚Äúwelcome‚Äù, sin mucha idea de ingl√©s. Durante todo el viaje mi hermano y yo saludamos a desconocidos as√≠.","a":"Javi"},
    {"t":"Limpiando un trastero, una cucaracha 'muerta' empez√≥ a correr. Mi madre (nerviosa) grit√≥: ¬´¬°Se ha corrido por todo el recogedor!¬ª. Nos re√≠mos hasta llorar.","a":"Javi"},
    {"t":"En casa sab√≠amos que si molest√°bamos demasiado a mi madre en la mesa pod√≠a acabar tirandonos un vaso de agua. Quien no lo sab√≠a el marido de la suegra de mi hermano, que se pas√≥ una comida provocando con comentarios machistas. Al final mi madre le tir√≥ el agua a la cara. Podr√≠a ser una escena de Cu√©ntame. üòÇ","a":"Javi"},
    {"t":"Siempre nos confunden por tel√©fono porque mi madre y yo tenemos la misma voz. Tanto mi abuela como sus amigas siempre nos confund√≠an üòÇ","a":"Gemma"},
    {"t":"Volv√≠ de un viaje el D√≠a de los Inocentes. Llam√© a mi madre diciendo que hab√≠a perdido el pasaporte y que solo pod√≠a volver haciendome uno expr√©s car√≠simo. Tras una bronca enorme, acept√≥ pagarlo.","a":"Silvia"},
    {"t":"Es tan ordenada que los albumes de fotos estan etiquetados y hay un ind√≠ce en el que se puede consultar la etiqueta para saber el a√±o y los eventos de las fotos de cada √°lbum.","a":"Silvia"},
    {"t":"Durante un a√±o de la ESO, me apunt√© a clases de aerobic y para el festival de final de curso preparamos un baile. Mis padres fueron al festival, pero estaban lejos del escenario y grabaron durante toda la actuaci√≥n a una chica que no era yo üòÇ","a":"Silvia"},
    {"t":"De ni√±a, mi t√≠o asustaba a mi madre diciendo: ¬´¬°Que viene la Casta√±a!¬ª. No era real, pero a ella le daba much√≠simo miedo.","a":"Bela"},
    {"t":"Hasta hace poco, en mi casa todos dec√≠amos 'triquismiquis' porque mi madre pensaba que era correcto.","a":"Bela"},
    {"t":"Un d√≠a, entre bromas, alguien dijo 'corramos un est√∫pido velo' en lugar de 'tupido velo'. Desde entonces, toda la familia lo dice as√≠.","a":"Bela"},
    {"t":"Cuando era peque√±a, mi madre me hac√≠a jugar a 'la cr√≠tica': √≠bamos por la calle criticando a la gente mal vestida.","a":"Maria"},
    {"t":"Cuando me li√© con mi crush de infancia, en cuanto se fue lo llam√© y jugu√© con mi madre al 'Qui√©n es qui√©n' para que adivinara qui√©n era.","a":"Maria"},
    {"t":"En pandemia cocinamos juntas arroz con leche, el postre favorito de mi padre. Nos sali√≥ tan mal que estuvo una semana enfermo.","a":"Maria"},
    {"t":"La primera y √∫nica vez que mi madre llev√≥ un barco, enred√≥ la cuerda de esquiar en la h√©lice. Nos quedamos varados en alta mar y tuvimos que pedir un cuchillo a otra embarcaci√≥n.","a":"Kevin"},
    {"t":"Un d√≠a una amiga de mi madre le pidi√≥ que recogiera a su hijo, un compa√±ero del colegio, y lo llevara a nuestra casa. En el trayecto mi madre se dio cuenta de que se lo hab√≠a dejado. Volvimos y estaba acurrucado en las escaleras esperando a su madre sin entender nada.","a":"Kevin"},
    {"t":"Mi madre siempre ha sido la m√°s dura de la familia. Una vez metieron a mi primo en la c√°rcel y fue ella la que fue a recogerlo... ¬°para echarle la bronca! En Mallorca, unos guiris borrachos molestaban en el hotel y tambi√©n fue ella quien les plant√≥ cara para rescatarnos.","a":"Kevin"},
    {"t":"Mi madre sali√≥ en una pel√≠cula de Berlanga Jr. que se estren√≥ en el cine e interactu√≥ con el actor que hac√≠a de Amador en *La que se avecina*.","a":"Voro"},
    {"t":"Cuando vemos la tele y salen pol√≠ticos del PP o juega el Real Madrid con Vin√≠cius, yo siempre pico a mi madre. Ella empieza con ‚Äúestos cabrones, este t√≠o‚Ä¶‚Äù y yo le insisto: ‚Äú¬°Dilo, dilo, dilo‚Ä¶ hijos de puta!‚Äù.","a":"√Älex"},
    {"t": "Cuando ten√≠a 5 a√±os, fui con mi madre a un parque acu√°tico. En un momento decidimos tirarnos juntos por un tobog√°n. A mitad de camino me separ√© porque mi cuerpo, m√°s ligero, se deslizaba m√°s r√°pido que el de ella. Yo ca√≠ primero en la piscina y apenas estaba tratando de salir cuando, unos segundos despu√©s, mi madre cay√≥ encima de m√≠. Eso hizo que no pudiera salir a respirar de inmediato y casi me ahogo. Desde ese d√≠a, por alguna raz√≥n, termin√© siendo otaku.","a": "Xavi"}
  ];

  const STORAGE_KEY = 'madrecdotas_order_v1';

  // Recuperar orden previo o generar uno nuevo
  let order = JSON.parse(localStorage.getItem(STORAGE_KEY) || 'null');
  if(!order || order.length !== anecdotes.length){
    order = anecdotes.map((_,i)=>i).sort(()=>Math.random()-0.5);
    localStorage.setItem(STORAGE_KEY, JSON.stringify(order));
  }

  const ordered = order.map(i=>anecdotes[i]);

  let idx = 0;
  let flipped = false;

  const card = document.getElementById('card');
  const text = document.getElementById('text');
  const eyebrow = document.getElementById('eyebrow');
  const counter = document.getElementById('counter');
  const barFill = document.getElementById('barFill');
  const prevBtn = document.getElementById('prevBtn');
  const nextBtn = document.getElementById('nextBtn');

  function updateProgress(){
    counter.textContent = (idx+1) + '/' + ordered.length;
    barFill.style.width = (((idx+1)/ordered.length)*100) + '%';
    prevBtn.disabled = (idx===0);
  }

  function render(){
    const item = ordered[idx];
    if(!flipped){
      eyebrow.textContent = 'Madrecdota';
      text.textContent = item.t;
    }else{
      eyebrow.textContent = 'Autor/a';
      text.textContent = item.a;
    }
    updateProgress();
  }

  function flip(){ flipped = !flipped; render(); }
  function next(){ if(idx < ordered.length-1){ idx++; } else { idx = 0; } flipped = false; render(); }
  function prev(){ if(idx > 0){ idx--; } else { idx = ordered.length-1; } flipped = false; render(); }

  card.addEventListener('click', flip);
  nextBtn.addEventListener('click', next);
  prevBtn.addEventListener('click', prev);

  render();
})();</script>
</body>
</html>